[tools]
bun = "1.2.21"

[tasks.format]
run = "bun biome format --write ."

[tasks.test]
run = "bun test"

[tasks.lint]
run = "bun oxlint"

[tasks.check]
run = ["mise run format", "mise run lint", "mise run test"]

[tasks.build]
depends = ["check"]
run = "bun build --target=node --outdir=dist index.ts"

[tasks.release]
depends = ["check"]
run = ["bun run ./release.ts"]

[tasks.publish]
depends = ["release"]
run = ["bun publish"]
